BONDE DA LPI
DAY 1

DAY 2

ls -lha - lista todos os arquivos de forma human readable e em forma de lista

ctrl +L = clear no bash

ctrl +d = da exit no bash

cd ../

caminho relativo, caminho absoluto ->

fhs - file system hierarchy standart - hierarquia de sistema de arquivos.

lsb - linux standart base - trazer padrao entre distros linux.

lrwx - l significa link simbolico como se fosse um atalho
drwx - d diretorio

dentro do /bin/ arquivo binarios
dentro do /boot/ arquivos de boot - vmlinuz eh o kernel do linux


/etc - Arquivos de configuração globais
 /etc/opt - Arquivos de configuração para aplicativos em /opt
 /etc/X11 - Arquivos de configuração para o X Window System 11
/home - Armazenamento de dados de contas de usuários normais
/root - Armazenamento de dados de contas do superusuário
/lib - Bibliotecas essenciais do sistema, de binários localizados em /bin e /sbin
/mnt - Sistema de arquivos montado temporariamente
/media - Ponto de montagem de mídias removíveis (como pen-drives, cd-rom)
/opt - Pacotes estático de aplicações
/proc - systema de arquivos virtual, onde pode fazer a interação com o kernel
     e processos do sistema
/tmp - Arquivos temporários. Conteúdo geralmente apagado no reboot nas distribuições
/usr - (unix system resources) - Hierarquia secundária (não essenciais no boot) para dados compartilhados de usuários
  /usr/bin - O mesmo que a hierarquia /bin, mas contém binários não essenciais ao
  funcionamento da máquina ou para o recovery
  /usr/include - Diretório padrãod para headers
  /usr/lib - O mesmo que a hierarquia /lib, mas não essenciais ao boot
  /usr/sbin - O emsmo que o /sbin, mas não essenciais ao boot da máquina
  /usr/share - Dados compartilhados independentes de arquitetura
  /usr/src - Armazenamento de código fonte da máquina
  /usr/X11R6 - - X Window Sysem, versão 11R6
  /usr/local - Armazenamento de binários não distribuidos na instalação principal
         da máquina, ou seja, fora do sistema de empacotamento. Também é o local
         de armazenamento terciário de dados
/var - Arquivos que são gravados comf requencia (logs, páginas web, email, imagens, etc)
  /var/lock - Arquivos de lock, usados para controlar corretamente os recursos em uso
  /var/log - Arquivos de log, usado para logs em geral
  /var/mail - Caixas de e-mail dos usuários do sistema em formato mailbox
  /var/run - Contém dados sobre a execução do sistema desde seu primeiro boot 
          (daemons e usuários)
  /var/spool - Spooling de tarefas (fila de impressão, cache de pacotes, proxy, etc)
  /var/spool/mail - Antigo local da caixa de correio de usuários (deve ser usado /var/mail)
  /var/tmp - Arquivos temporários. Quando usado em modo multi-usuário.
  




comandos da pasta /dev/

ls -lha | more ou less - pagina a pesquisa

disco so pode ter 4 particao primarias e 4 logicas de cada particao primaria

sda - disco 1 fisico
sda1 - particao 1 do disco 1

sda5 - partica 1 logica disco 1
sdb - disco 2 fisico
sdb1 - particao 1 do disco 2

disco de bloco disco de particao

se o describe for:
brwx - b de block
crwx - c de caracter (dispositivo de caracter transfere informacao)
tty - porta de comunicacao, semelhante ao serial do windows


df -h - lista os hds do SO




pasta /etc/

diretorio etc sempre vai ter arquivo de config, boa pratica eh enviar tudo pra la quando se tratar de conf.

pasta /lib/

modulos do kernel e bibliotecas do sistema, algo como as dlls

lib32 = sistema 32 vai popular

pasta /mnt/

lost+found = journal salvando e recuperando arquivos
media = ponto de montagem convencional

pasta /opt/

concentrador de local dos softwares instalados pelo user

pasta /proc/

informacoes dinamicas do sistema, modelos de processador, memoria, processos, etc
pode acessar info dos processos

pasta /root

home do root

pasta /run/

guarda informacoes dinamicas desde o ultimo boot; eh um tmpfs - temporary file system. rebootou perdeu

pasta /sbin/

binarios de superuser; shutdown; so root pode usar exceto com permissoes

pasta /srv/
pasta de arquivos de servidores estaticos ftp;apache;git; etc...

pasta /sys/
pasta de info referentes ao sistema, kernel, inerente aos devices (blocos, bus, energia, etc)

pasta /tmp/
diretoria temporario, rebootou perdeu.

pasta /usr/
Segunda hierarquia de arquivos do linux. Tudo que nao e `essencial` para o sistema. possui lib e sbin tbm, mas apenas para o usr. usr = user.

pasta /var/
variaveis de todos os tipos, como logs, etc.
Local= tudo que tiver variavel dos arquivos



fim dos FHS

ligar e desligar LINUX:
shutdown -h (halt)|-r (reboot) now
halt
poweroff
reboot
init 0 - desliga maquina
init 6 - reboot maquina

ex.:

shutdown -h 18:00 - desliga {as 18h
shutdown -c - cancela shutdown
shutdown -h +30 - desliga em 30 mins


shutdown -r +30 "Reiniciando em 30 minutos" - Envia para todos os users que reiniciara em 30 mins
shutdown -c "cancelando reboot" - manda pra todos users


DAY 3 - Manipulações de arquivos e diretórios.

#bin/sh
ls --color=auto - colore arquivo caso o terminal suporte cores

file~ => geralmente usado para arquivos de backup.

ls -B - lista arquivos e exclui os backups.

ls -F = lista pastas

ls -l = lista longa

ls -F = lista links simbolicos tbm

ls -p = 

ls -n = lista em formato numérico

ls -lac = lista com o c time

ls -lXr = lista de forma invertida
ls -laR = lista de forma recursiva (Dentro das pastas)

rmdir -p = Apaga pastas vazias 

Manipulação de arquivos:

cat - ler arquivo, consulta
cat -n - exibe a linha do arquivo
cat -s - inibe linhas em brancas
cat -b - exibe só linhas que tem no arquivos
cat -E - add um $ no final de cada linha, serve para identificar o final da linha, bom pra DEV.
cat -T - coloca um caracter nos espaços entre tabulações.
xzcat e bzcat - ler arquivos bz e xz.
tac - cat ao contrário.
tac -s a teste - adiciona a como quebra de linha.
rm -rf - exclui forçado

cp a b- copia para uma pasta b ou cria um arquivo novo que é uma cópia de a

cp -rfv = -v mostra o que é feito na cópia (verbose); -r recursivo; -f forçado

cp -vu = compara data e se tiver diferença copia em cima

cp -x = 

mv - move um arquivo ou renomeia se estiver no mesmo lugar

extensões: 


Editores de texto:

vi 
i - insert 
esc :wq! - grava e sai



Day 4 - curingas

* - inclui qualquer caracter

ls a* - lista arquivos que comecem com a

ls a*r - arquivos que comecem com a tenham r no fim

ls m? - lista arquivos com m de início e 1 caracter curinga extra apenas
ls m?? - lista arquivos com m de início e 2 caracter curinga extra apenas
ls m[a-c] - lista arquivos com filtro m e caracter entre a e c
ls [^abc] - lista arquivos que não terminam com 'abc'. ^ = caracter de negacao

ls x{zd,ze,zm} - lista arquivos com a combinação x+zd, x+ze e x+zm {} = combinação


comandos:

date - mostra data

date -u - mostra horário UTC

sudo date -s 08:43 - ajusta horário

sudo date 101007452020 - ajusta horário para 101207452020 (12/10/2020 07:45)

hwclock --systohc - horário do hardware
 
date +%d-%y = lista dia e ano

date --date='01234567890'  - exibe o formato unixtime para um horario legivel

df - lista blocos

df -h - versao vista humana.

df -i - quantidade de inodes no sistema

df -T - mostra o tipo do bloco

df -aTh - melhor comando


arquivo referenciado por inode no linux nao por tamanho

ln -s caminho link - cria um link simbolico na pasta local, o famoso atalho.
ln caminho link - cria um hard link para o local.	


cp -l - cria hard link da copia

du -uh - comando para ver tamanho da pasta sumarizado e visto de forma amigavel

du - ocupacao de cada arquivo na particao

find - localizar arquivos no linux
tipos

find pasta -name nomeqQuer - 

find . -name mc 

find . -type d -name mc -- escolhe o tipo que quer ver
find . -type f -maxdepth 2 -name mc - busca pastas pelo tipo f em ate 2 niveis do sistema de arquivos

find . -type f -mindepth 2 -maxdepth 4 -name mc - pesquisa entre niveis 2 e 4 nos arquivos

find . -mtime -1 - busca arquivos que foram modificados a 1 dia atras

find /etc -amin -10 - busca arquivos que foram mod nos ultimos 10 mins

m - modified|a - access|c - created   min - minuto| time - dia + -mais de|- menos de -> 30.

find -gid - pesquisa pelo grupo de id
find -uid - pesquisa pelo id do user
find -user - pesquisa pelo user
-group - pesquisa pelo grupo vigente
find . -link 2 - pesquisa arquivos que tem 2 links de referencia

free - memoria fisica e swap]
-h --kilo- mega -giga calculo de 1000  (--kibi --mebi --gibi - calculo de 1024)

grep - pesquisa numa pasta determinado arquivo que contem um valor
ex.: 
grep 'www-data' /etc/passwd - pesquisa www-data em passwd

grep -f nomefile path - pesquisa e exibe conteudo do arquivo nomefile em path

grep -i = ignora maiusculo e minusculo

grep -ri = mostra os arquivos que possuem o nome

head - mostra10 primeiras linhas
nl - numero linhas de um arquivo

cat file | more - pausa página a página de um arquivo

less file - semelhante ao more
sort file - ordena arquivo numa pasta 

sort -n - ordena de forma numerica

sort -c - retorna se tá ordenada.

sort +1 - ordena pela coluna 1
sorte +1 -3 - ordena pela coluna 1 a 3
sort -k 2 - ordena pela coluna 2

sort -t ':' - delimita a coluna pelo :

tail - ve as ultimas 10 linhas

time - informa o tempo da requisição

touch -t unixtime nome - cria arquivo para o horario linux determinado

uptime - o tempo que a máquina tá on

dmesg - exibe mensagem do ring buffer do kernel.
dmesg -t - timestamp
dmesg -c - espera buffer em tempo real

echo - exibe mensagem na tela
-n não quebra linha
-e habilita caracteres especiais

su - switch user eleva pro root
su - -> limpa todas var de ambiente no su.

sudo - eleva pro root com senha do usuario

usr/bin/su - caminho
su -

sudo su

adduser guiafoca sudo - add user no grupo sudo

deluser guiafoca sudo - deleta user no grupo sudo

sync - grava o buffer do kernel no disco

uname-retorna nome do so
uname -a = retorna mais infos

uname -r = retorna a versao do disco na maquina
'' -v =  data que o kernel foi compilado
-m = arch do so

reboot - reboota maquina (only root)
systemctl reboot - reinicia a máquina

reboot -f = força (recomenda-se usar o sync antes)

shutdown -r now =

echo b >/proc/sysrg-trigger - reinicia forçado caso de pau na maquina, uso emergencial

halt - desliga

systemctl halt -
shutdown -h now
echo o >/proc/sysrg-trigger - desliga forçado caso de pau na maquina, uso emergencial

shutdown -h 09:40  
shutdown -c = cancela o shutdown.

wc - word count 
-l = numero linha
-w = numero paradas

seq 10 - sequencia de 1 - 10
seq 2 10- sequencia de 2 - 10
seq 2 2 10 - sequencia de 2-10 de 2 em 2
-w - alinha os numeros





















